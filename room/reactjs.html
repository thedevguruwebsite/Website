<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Learning Adventure</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
     <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            padding: 20px;
            overflow-x: hidden;
        }
        
        .game-container {
            position: relative;
            width: 100%;
            max-width: 1000px;
            height: 700px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        header {
            background: linear-gradient(to right, #457fca, #5691c8);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo i {
            font-size: 32px;
            color: #68a063;
        }
        
        .logo h1 {
            font-size: 28px;
            font-weight: 700;
        }
        
        .stats {
            display: flex;
            gap: 25px;
        }
        
        .stat-box {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 100px;
            transition: transform 0.3s ease;
        }
        
        .stat-box:hover {
            transform: translateY(-3px);
        }
        
        .stat-label {
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-top: 5px;
        }
        
        main {
            display: flex;
            flex: 1;
            overflow: hidden;
        }
        
        .sidebar {
            width: 250px;
            background: #2c3e50;
            color: white;
            padding: 25px 0;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        
        .module {
            padding: 15px 25px;
            border-left: 5px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .module:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .module.active {
            border-left: 5px solid #68a063;
            background: rgba(255, 255, 255, 0.15);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(104, 160, 99, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(104, 160, 99, 0); }
            100% { box-shadow: 0 0 0 0 rgba(104, 160, 99, 0); }
        }
        
        .module i {
            font-size: 20px;
            color: #68a063;
        }
        
        .module h3 {
            font-size: 18px;
            font-weight: 600;
        }
        
        .module-progress {
            height: 5px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: #2ecc71;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .content-area {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .module-title {
            color: #2c3e50;
            font-size: 32px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #68a063;
        }
        
        .module-description {
            color: #34495e;
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        
        .challenge-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .challenge-title {
            font-size: 24px;
            color: #68a063;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .challenge-description {
            color: #2c3e50;
            font-size: 17px;
            line-height: 1.6;
            margin-bottom: 25px;
        }
        
        .code-editor {
            background: #1e1e1e;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            font-family: 'Courier New', monospace;
            position: relative;
        }
        
        .code-header {
            display: flex;
            justify-content: space-between;
            color: #ccc;
            font-size: 14px;
            margin-bottom: 15px;
        }
        
        .code-content {
            color: #d4d4d4;
            font-size: 16px;
            line-height: 1.5;
            white-space: pre-wrap;
            min-height: 150px;
            padding: 10px;
            background: #252526;
            border-radius: 5px;
            overflow: auto;
        }
        
        .code-keyword {
            color: #569cd6;
        }
        
        .code-function {
            color: #dcdcaa;
        }
        
        .code-string {
            color: #ce9178;
        }
        
        .code-comment {
            color: #6a9955;
        }
        
        .code-number {
            color: #b5cea8;
        }
        
        .code-operator {
            color: #d4d4d4;
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .option {
            background: #e3f2fd;
            border: 2px solid #bbdefb;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }
        
        .option:hover {
            background: #bbdefb;
            transform: translateY(-3px);
        }
        
        .option.correct {
            background: #c8e6c9;
            border-color: #a5d6a7;
            animation: correctPulse 0.5s;
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .option.incorrect {
            background: #ffcdd2;
            border-color: #ef9a9a;
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(to right, #68a063, #4a934a);
            color: white;
            box-shadow: 0 5px 15px rgba(104, 160, 99, 0.4);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(104, 160, 99, 0.6);
        }
        
        .btn-secondary {
            background: #ecf0f1;
            color: #7f8c8d;
        }
        
        .btn-secondary:hover {
            background: #dfe6e9;
        }
        
        .progress-container {
            margin-top: auto;
            background: #e3f2fd;
            border-radius: 10px;
            padding: 15px;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .progress-bar-main {
            height: 12px;
            background: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .progress-main {
            height: 100%;
            background: linear-gradient(to right, #2ecc71, #27ae60);
            width: 0%;
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        
        .feedback {
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .feedback.correct {
            background: #e8f5e9;
            border: 2px solid #c8e6c9;
            color: #2e7d32;
        }
        
        .feedback.incorrect {
            background: #ffebee;
            border: 2px solid #ffcdd2;
            color: #c62828;
        }
        
        .feedback-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feedback-content {
            font-size: 16px;
            line-height: 1.5;
        }
        
        .level-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .level {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .level.locked {
            background: #e0e0e0;
            color: #9e9e9e;
            cursor: not-allowed;
        }
        
        .level.unlocked {
            background: #81c784;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .level.current {
            background: #ffd54f;
            color: #333;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(255, 213, 79, 0.7);
            animation: pulse 2s infinite;
        }
        
        .level.completed {
            background: #4caf50;
            color: white;
        }
        
        .level-select-title {
            font-size: 24px;
            color: #2c3e50;
            margin: 20px 0 15px;
        }
        
        .victory-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .victory-content {
            text-align: center;
            max-width: 600px;
            padding: 30px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .trophy {
            font-size: 100px;
            color: #ffd700;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(0,0,0,0.2);
            animation: spin 1s ease;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg) scale(0.5); opacity: 0; }
            100% { transform: rotate(360deg) scale(1); opacity: 1; }
        }
        
        .badges-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        
        .badge {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #68a063, #9b59b6);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            animation: float 3s ease-in-out infinite;
        }
        
        .badge:nth-child(2) {
            animation-delay: 0.5s;
            background: linear-gradient(135deg, #2ecc71, #68a063);
        }
        
        .badge:nth-child(3) {
            animation-delay: 1s;
            background: linear-gradient(135deg, #e74c3c, #e67e22);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .console-output {
            background: #1e1e1e;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            color: #d4d4d4;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            display: none;
        }
        
        .console-header {
            color: #ccc;
            font-size: 14px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }
        
        .run-btn {
            background: #2ecc71;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .run-btn:hover {
            background: #27ae60;
            transform: translateY(-2px);
        }
        
        .achievements-bar {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .achievement {
            background: #f1c40f;
            color: #2c3e50;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .xp-animation {
            position: absolute;
            font-size: 20px;
            font-weight: bold;
            color: #f1c40f;
            animation: xpFloat 1.5s ease-out;
            pointer-events: none;
            z-index: 200;
        }
        
        @keyframes xpFloat {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-50px); opacity: 0; }
        }
        
        @media (max-width: 768px) {
            main {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                padding: 15px;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .stats {
                gap: 10px;
            }
            
            .stat-box {
                min-width: 80px;
                padding: 6px 10px;
            }
            
            .level {
                width: 40px;
                height: 40px;
                font-size: 14px;
            }
            
            .game-container {
                height: auto;
                min-height: 100vh;
            }
            
            .badges-container {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <header>
            <div class="logo">
                <i class="fab fa-react"></i>
                <h1>React Learning Adventure</h1>
            </div>
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-label">Level</div>
                    <div class="stat-value" id="currentLevel">1</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">XP</div>
                    <div class="stat-value" id="xpValue">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Score</div>
                    <div class="stat-value" id="scoreValue">0</div>
                </div>
            </div>
        </header>
        
        <main>
            <div class="sidebar">
                <div class="module active" data-module="basics">
                    <i class="fas fa-vial"></i>
                    <div>
                        <h3>React Basics</h3>
                        <div class="module-progress">
                            <div class="progress-bar" id="basics-progress" style="width: 20%"></div>
                        </div>
                    </div>
                </div>
                <div class="module" data-module="components">
                    <i class="fas fa-cubes"></i>
                    <div>
                        <h3>Components & Props</h3>
                        <div class="module-progress">
                            <div class="progress-bar" id="components-progress" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                <div class="module" data-module="state">
                    <i class="fas fa-server"></i>
                    <div>
                        <h3>State & Lifecycle</h3>
                        <div class="module-progress">
                            <div class="progress-bar" id="state-progress" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                <div class="module" data-module="hooks">
                    <i class="fas fa-bolt"></i>
                    <div>
                        <h3>Hooks</h3>
                        <div class="module-progress">
                            <div class="progress-bar" id="hooks-progress" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                <div class="module" data-module="advanced">
                    <i class="fas fa-database"></i>
                    <div>
                        <h3>Advanced React</h3>
                        <div class="module-progress">
                            <div class="progress-bar" id="advanced-progress" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="content-area">
                <h2 class="module-title" id="moduleTitle">React Basics</h2>
                <p class="module-description" id="moduleDescription">
                    Learn the fundamental building blocks of React including JSX, components, and rendering.
                </p>
                
                <div class="level-select-title">Select Level</div>
                <div class="level-container" id="levelContainer">
                    <!-- Levels will be dynamically generated -->
                </div>
                
                <div class="achievements-bar">
                    <div class="achievement">
                        <i class="fas fa-star"></i> First Steps
                    </div>
                    <div class="achievement">
                        <i class="fas fa-bolt"></i> Quick Learner
                    </div>
                </div>
                
                <div id="quizContainer">
                    <!-- Quiz content will be dynamically generated -->
                </div>
                
                <div class="console-output" id="consoleOutput">
                    <div class="console-header">
                        <span>Program Output</span>
                        <span>Status: <span id="runStatus">Ready</span></span>
                    </div>
                    <pre id="outputContent"></pre>
                </div>
                
                <div class="progress-container">
                    <div class="progress-header">
                        <span>Course Progress</span>
                        <span id="progressPercentage">5% Complete</span>
                    </div>
                    <div class="progress-bar-main">
                        <div class="progress-main" id="mainProgress" style="width: 5%"></div>
                    </div>
                </div>
            </div>
            
            <div class="victory-screen" id="victoryScreen">
                <div class="victory-content">
                    <div class="trophy">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h1>Congratulations!</h1>
                    <p class="module-description">You've completed all 30 levels of the React Learning Adventure!</p>
                    
                    <div class="badges-container">
                        <div class="badge">
                            <i class="fas fa-medal"></i>
                        </div>
                        <div class="badge">
                            <i class="fas fa-crown"></i>
                        </div>
                        <div class="badge">
                            <i class="fas fa-gem"></i>
                        </div>
                    </div>
                    
                    <p class="stat-value" style="font-size: 32px; margin: 20px 0;">Final Score: <span id="finalScore">0</span></p>
                    <button class="btn btn-primary" id="restartGameBtn">
                        <i class="fas fa-redo"></i> Play Again
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Game state
            const gameState = {
                currentLevel: 1,
                maxLevel: 30,
                score: 0,
                xp: 0,
                currentModule: 'basics',
                completedLevels: new Set(),
                achievements: new Set(['First Steps', 'Quick Learner'])
            };
            
            // DOM elements
            const levelContainer = document.getElementById('levelContainer');
            const quizContainer = document.getElementById('quizContainer');
            const moduleTitle = document.getElementById('moduleTitle');
            const moduleDescription = document.getElementById('moduleDescription');
            const currentLevelElement = document.getElementById('currentLevel');
            const xpValueElement = document.getElementById('xpValue');
            const scoreValueElement = document.getElementById('scoreValue');
            const mainProgress = document.getElementById('mainProgress');
            const progressPercentage = document.getElementById('progressPercentage');
            const victoryScreen = document.getElementById('victoryScreen');
            const finalScore = document.getElementById('finalScore');
            const restartGameBtn = document.getElementById('restartGameBtn');
            const consoleOutput = document.getElementById('consoleOutput');
            const outputContent = document.getElementById('outputContent');
            const runStatus = document.getElementById('runStatus');
            
            // Questions database - Updated for React
            const questions = [
                // Level 1-5: React Basics
                {
                    level: 1,
                    module: 'basics',
                    question: "What command creates a new React app using Create React App?",
                    options: [
                        "npx create-react-app my-app",
                        "npm init react-app my-app",
                        "react new my-app",
                        "npm create react-app my-app"
                    ],
                    answer: 0,
                    explanation: "npx create-react-app my-app is the correct way to bootstrap a new React application.",
                    code: `<span class="code-comment">// In your terminal:</span>
<span class="code-comment">// npx create-react-app my-app</span>`
                },
                {
                    level: 2,
                    module: 'basics',
                    question: "What is JSX in React?",
                    options: [
                        "A JavaScript extension that allows HTML-like syntax",
                        "A templating language similar to Handlebars",
                        "A state management library",
                        "A build tool for React applications"
                    ],
                    answer: 0,
                    explanation: "JSX is a syntax extension to JavaScript that allows writing HTML-like code in JavaScript files.",
                    code: `<span class="code-comment">// JSX example</span>
<span class="code-keyword">const</span> element = &lt;h1&gt;Hello, world!&lt;/h1&gt;;`
                },
                {
                    level: 3,
                    module: 'basics',
                    question: "How do you render a React element to the DOM?",
                    options: [
                        "ReactDOM.create(element, container)",
                        "ReactDOM.render(element, container)",
                        "React.render(element, container)",
                        "DOM.render(element, container)"
                    ],
                    answer: 1,
                    explanation: "ReactDOM.render() is used to render a React element into the DOM in the supplied container.",
                    code: `<span class="code-comment">// Rendering to DOM</span>
<span class="code-keyword">const</span> root = ReactDOM.createRoot(document.getElementById('root'));
root.render(&lt;App /&gt;);`
                },
                {
                    level: 4,
                    module: 'basics',
                    question: "What is the correct way to add comments in JSX?",
                    options: [
                        "{/* This is a comment */}",
                        "// This is a comment",
                        "<!-- This is a comment -->",
                        "/* This is a comment */"
                    ],
                    answer: 0,
                    explanation: "JSX comments use the {/* */} syntax inside the JSX code.",
                    code: `<span class="code-comment">// JSX comment example</span>
&lt;div&gt;
  {/* This is a comment in JSX */}
  &lt;h1&gt;Hello&lt;/h1&gt;
&lt;/div&gt;`
                },
                {
                    level: 5,
                    module: 'basics',
                    question: "Which method is used to change state in a class component?",
                    options: [
                        "this.updateState()",
                        "this.modifyState()",
                        "this.setState()",
                        "this.changeState()"
                    ],
                    answer: 2,
                    explanation: "this.setState() is the correct way to update state in class components.",
                    code: `<span class="code-comment">// Updating state</span>
<span class="code-keyword">this</span>.setState({ counter: <span class="code-keyword">this</span>.state.counter + 1 });`
                },
                
                // Level 6-10: Components & Props
                {
                    level: 6,
                    module: 'components',
                    question: "What is the correct syntax for a functional component?",
                    options: [
                        "function MyComponent() { return <div>Hello</div>; }",
                        "class MyComponent extends React.Component { render() { return <div>Hello</div>; } }",
                        "const MyComponent = () => { return <div>Hello</div>; }",
                        "Both 1 and 3"
                    ],
                    answer: 3,
                    explanation: "Both function declarations and arrow functions can be used to create functional components.",
                    code: `<span class="code-comment">// Functional component examples</span>
<span class="code-keyword">function</span> Welcome(props) {
  return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;
}

<span class="code-keyword">const</span> Welcome = (props) => &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;`
                },
                {
                    level: 7,
                    module: 'components',
                    question: "How do you access props in a class component?",
                    options: [
                        "this.props",
                        "props",
                        "this.state.props",
                        "this.getProps()"
                    ],
                    answer: 0,
                    explanation: "Props are accessed via this.props in class components.",
                    code: `<span class="code-comment">// Accessing props in class component</span>
<span class="code-keyword">class</span> Welcome <span class="code-keyword">extends</span> React.Component {
  render() {
    return &lt;h1&gt;Hello, {<span class="code-keyword">this</span>.props.name}&lt;/h1&gt;;
  }
}`
                },
                {
                    level: 8,
                    module: 'components',
                    question: "What is the purpose of PropTypes?",
                    options: [
                        "To define types for component props",
                        "To create prop-like state",
                        "To validate component methods",
                        "To transform props before use"
                    ],
                    answer: 0,
                    explanation: "PropTypes is used for typechecking props passed to components.",
                    code: `<span class="code-comment">// Using PropTypes</span>
<span class="code-keyword">import</span> PropTypes <span class="code-keyword">from</span> <span class="code-string">'prop-types'</span>;

<span class="code-keyword">function</span> MyComponent({ name, age }) {
  <span class="code-comment">// ...</span>
}

MyComponent.propTypes = {
  name: PropTypes.string.isRequired,
  age: PropTypes.number
};`
                },
                {
                    level: 9,
                    module: 'components',
                    question: "How do you pass data to child components?",
                    options: [
                        "Using state",
                        "Via props",
                        "With context API",
                        "Using refs"
                    ],
                    answer: 1,
                    explanation: "Props are the primary way to pass data from parent to child components.",
                    code: `<span class="code-comment">// Passing props</span>
<span class="code-keyword">function</span> Parent() {
  return &lt;Child name=<span class="code-string">"Alice"</span> age={30} /&gt;;
}`
                },
                {
                    level: 10,
                    module: 'components',
                    question: "What is a pure component?",
                    options: [
                        "A component that only uses functional programming",
                        "A component that doesn't have side effects",
                        "A class component that implements shouldComponentUpdate with shallow prop comparison",
                        "A component that doesn't use state"
                    ],
                    answer: 2,
                    explanation: "PureComponent implements shouldComponentUpdate with a shallow prop and state comparison.",
                    code: `<span class="code-comment">// PureComponent example</span>
<span class="code-keyword">class</span> MyComponent <span class="code-keyword">extends</span> React.PureComponent {
  render() {
    return &lt;div&gt;{<span class="code-keyword">this</span>.props.value}&lt;/div&gt;;
  }
}`
                },
                
                // Level 11-15: State & Lifecycle
                {
                    level: 11,
                    module: 'state',
                    question: "When is the componentDidMount method called?",
                    options: [
                        "Before the component renders",
                        "After the component renders to the DOM",
                        "When the component updates",
                        "When the component is about to unmount"
                    ],
                    answer: 1,
                    explanation: "componentDidMount() is called immediately after a component is mounted (inserted into the tree).",
                    code: `<span class="code-comment">// componentDidMount example</span>
<span class="code-keyword">class</span> MyComponent <span class="code-keyword">extends</span> React.Component {
  componentDidMount() {
    <span class="code-comment">// Perform setup here</span>
  }
}`
                },
                {
                    level: 12,
                    module: 'state',
                    question: "Which method is called when a component is about to be removed from the DOM?",
                    options: [
                        "componentWillUnmount",
                        "componentDidUnmount",
                        "componentWillRemove",
                        "componentRemoved"
                    ],
                    answer: 0,
                    explanation: "componentWillUnmount() is called immediately before a component is unmounted and destroyed.",
                    code: `<span class="code-comment">// componentWillUnmount example</span>
<span class="code-keyword">class</span> MyComponent <span class="code-keyword">extends</span> React.Component {
  componentWillUnmount() {
    <span class="code-comment">// Clean up here</span>
  }
}`
                },
                {
                    level: 13,
                    module: 'state',
                    question: "How do you update state based on previous state?",
                    options: [
                        "this.setState({ count: count + 1 })",
                        "this.setState(prevState => ({ count: prevState.count + 1 }))",
                        "this.state.count++",
                        "this.updateState({ count: this.state.count + 1 })"
                    ],
                    answer: 1,
                    explanation: "When the new state depends on the previous state, use the function form of setState.",
                    code: `<span class="code-comment">// Updating state based on previous state</span>
<span class="code-keyword">this</span>.setState((prevState) => ({
  count: prevState.count + 1
}));`
                },
                {
                    level: 14,
                    module: 'state',
                    question: "What is the difference between state and props?",
                    options: [
                        "Props are internal, state is external",
                        "State is mutable, props are read-only",
                        "Props are for class components, state is for functional components",
                        "State is passed from parent, props are internal"
                    ],
                    answer: 1,
                    explanation: "State is managed within the component and can be changed, while props are passed to the component and are read-only.",
                    code: `<span class="code-comment">// State vs Props</span>
<span class="code-keyword">class</span> MyComponent <span class="code-keyword">extends</span> React.Component {
  state = { internal: 0 }; <span class="code-comment">// Mutable state</span>
  
  render() {
    return &lt;div&gt;{<span class="code-keyword">this</span>.props.external}&lt;/div&gt;; <span class="code-comment">// Read-only prop</span>
  }
}`
                },
                {
                    level: 15,
                    module: 'state',
                    question: "What is the purpose of shouldComponentUpdate?",
                    options: [
                        "To determine if rendering should happen",
                        "To update state before rendering",
                        "To fetch data before update",
                        "To handle errors during update"
                    ],
                    answer: 0,
                    explanation: "shouldComponentUpdate() lets React know if a component's output is not affected by state/props changes.",
                    code: `<span class="code-comment">// shouldComponentUpdate example</span>
<span class="code-keyword">class</span> MyComponent <span class="code-keyword">extends</span> React.Component {
  shouldComponentUpdate(nextProps, nextState) {
    <span class="code-comment">// Return true if component should update</span>
    return nextProps.value !== <span class="code-keyword">this</span>.props.value;
  }
}`
                },
                
                // Level 16-20: Hooks
                {
                    level: 16,
                    module: 'hooks',
                    question: "Which hook replaces componentDidMount in functional components?",
                    options: [
                        "useEffect with an empty dependency array",
                        "useLayoutEffect",
                        "useMount",
                        "useState"
                    ],
                    answer: 0,
                    explanation: "useEffect(() => {}, []) runs after the initial render, similar to componentDidMount.",
                    code: `<span class="code-comment">// useEffect as componentDidMount</span>
<span class="code-keyword">useEffect</span>(() => {
  <span class="code-comment">// Runs once after initial render</span>
}, []);`
                },
                {
                    level: 17,
                    module: 'hooks',
                    question: "How do you create state in a functional component?",
                    options: [
                        "useState",
                        "useEffect",
                        "useContext",
                        "useReducer"
                    ],
                    answer: 0,
                    explanation: "useState is the hook that allows adding React state to functional components.",
                    code: `<span class="code-comment">// useState example</span>
<span class="code-keyword">const</span> [count, setCount] = useState(0);`
                },
                {
                    level: 18,
                    module: 'hooks',
                    question: "What is the purpose of the dependency array in useEffect?",
                    options: [
                        "To specify when the effect should run",
                        "To declare variables used in the effect",
                        "To clean up resources",
                        "To optimize performance"
                    ],
                    answer: 0,
                    explanation: "The dependency array controls when the effect runs - when any of its values change.",
                    code: `<span class="code-comment">// useEffect with dependencies</span>
<span class="code-keyword">useEffect</span>(() => {
  <span class="code-comment">// Runs when 'userId' changes</span>
}, [userId]);`
                },
                {
                    level: 19,
                    module: 'hooks',
                    question: "Which hook is used for performance optimization?",
                    options: [
                        "useMemo",
                        "useCallback",
                        "useRef",
                        "Both 1 and 2"
                    ],
                    answer: 3,
                    explanation: "Both useMemo and useCallback help optimize performance by memoizing values and functions.",
                    code: `<span class="code-comment">// useMemo and useCallback</span>
<span class="code-keyword">const</span> memoizedValue = useMemo(() => computeValue(a, b), [a, b]);
<span class="code-keyword">const</span> memoizedCallback = useCallback(() => doSomething(a, b), [a, b]);`
                },
                {
                    level: 20,
                    module: 'hooks',
                    question: "How do you access context in a functional component?",
                    options: [
                        "useContext",
                        "useContextValue",
                        "contextHook",
                        "getContext"
                    ],
                    answer: 0,
                    explanation: "useContext hook accepts a context object and returns the current context value.",
                    code: `<span class="code-comment">// useContext example</span>
<span class="code-keyword">const</span> theme = useContext(ThemeContext);`
                },
                
                // Level 21-25: Advanced React
                {
                    level: 21,
                    module: 'advanced',
                    question: "What is the purpose of React Router?",
                    options: [
                        "State management",
                        "API requests",
                        "Client-side routing",
                        "Form handling"
                    ],
                    answer: 2,
                    explanation: "React Router enables client-side routing in React applications.",
                    code: `<span class="code-comment">// React Router example</span>
<span class="code-keyword">&lt;BrowserRouter&gt;
  &lt;Routes&gt;
    &lt;Route path="/" element={&lt;Home /&gt;} /&gt;
    &lt;Route path="about" element={&lt;About /&gt;} /&gt;
  &lt;/Routes&gt;
&lt;/BrowserRouter&gt;</span>`
                },
                {
                    level: 22,
                    module: 'advanced',
                    question: "What problem does Redux solve?",
                    options: [
                        "Component styling",
                        "Global state management",
                        "API integration",
                        "Performance optimization"
                    ],
                    answer: 1,
                    explanation: "Redux provides predictable state management for complex applications.",
                    code: `<span class="code-comment">// Redux store creation</span>
<span class="code-keyword">const</span> store = createStore(rootReducer);`
                },
                {
                    level: 23,
                    module: 'advanced',
                    question: "What is a higher-order component (HOC)?",
                    options: [
                        "A component that renders another component",
                        "A function that takes a component and returns a new component",
                        "A component with advanced features",
                        "A component that controls other components"
                    ],
                    answer: 1,
                    explanation: "A HOC is a function that takes a component and returns a new component with additional props or functionality.",
                    code: `<span class="code-comment">// HOC example</span>
<span class="code-keyword">const</span> withAuth = (Component) => {
  return <span class="code-keyword">function</span> Authenticated(props) {
    <span class="code-comment">// Authentication logic</span>
    return isAuthenticated ? &lt;Component {...props} /&gt; : &lt;Login /&gt;;
  };
};`
                },
                {
                    level: 24,
                    module: 'advanced',
                    question: "What is the purpose of React.lazy?",
                    options: [
                        "To load components lazily",
                        "To create slow-rendering components",
                        "To handle errors",
                        "To memoize components"
                    ],
                    answer: 0,
                    explanation: "React.lazy allows you to render a dynamic import as a regular component for code splitting.",
                    code: `<span class="code-comment">// React.lazy example</span>
<span class="code-keyword">const</span> OtherComponent = React.lazy(() => import('./OtherComponent'));`
                },
                {
                    level: 25,
                    module: 'advanced',
                    question: "What is the purpose of the key prop?",
                    options: [
                        "To identify elements uniquely in lists",
                        "For styling purposes",
                        "To pass secret data",
                        "To optimize rendering performance only"
                    ],
                    answer: 0,
                    explanation: "Keys help React identify which items have changed, are added, or are removed in lists.",
                    code: `<span class="code-comment">// Using keys in lists</span>
{items.map(item => (
  &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
))}`
                },
                
                // Level 26-30: More Advanced Topics
                {
                    level: 26,
                    module: 'advanced',
                    question: "What is context in React?",
                    options: [
                        "A way to pass data through the component tree without props",
                        "A state management library",
                        "A routing solution",
                        "A styling approach"
                    ],
                    answer: 0,
                    explanation: "Context provides a way to share values between components without explicit prop passing.",
                    code: `<span class="code-comment">// Context example</span>
<span class="code-keyword">const</span> ThemeContext = React.createContext('light');

<span class="code-keyword">function</span> App() {
  return (
    &lt;ThemeContext.Provider value="dark"&gt;
      &lt;Toolbar /&gt;
    &lt;/ThemeContext.Provider&gt;
  );
}`
                },
                {
                    level: 27,
                    module: 'advanced',
                    question: "What is the purpose of useReducer?",
                    options: [
                        "To manage complex state logic",
                        "To handle side effects",
                        "To memoize values",
                        "To create reducers for Redux"
                    ],
                    answer: 0,
                    explanation: "useReducer is usually preferable to useState when you have complex state logic.",
                    code: `<span class="code-comment">// useReducer example</span>
<span class="code-keyword">const</span> [state, dispatch] = useReducer(reducer, initialState);`
                },
                {
                    level: 28,
                    module: 'advanced',
                    question: "What is React.memo?",
                    options: [
                        "A hook for memoization",
                        "A higher-order component for memoizing",
                        "A context provider",
                        "A state management solution"
                    ],
                    answer: 1,
                    explanation: "React.memo is a HOC that memoizes a component to prevent unnecessary re-renders.",
                    code: `<span class="code-comment">// React.memo example</span>
<span class="code-keyword">const</span> MyComponent = React.memo(<span class="code-keyword">function</span> MyComponent(props) {
  <span class="code-comment">/* render using props */</span>
});`
                },
                {
                    level: 29,
                    module: 'advanced',
                    question: "What is the purpose of the useRef hook?",
                    options: [
                        "To create mutable values that persist across renders",
                        "To reference a DOM element",
                        "To store previous state",
                        "All of the above"
                    ],
                    answer: 3,
                    explanation: "useRef can be used for all these purposes - creating mutable values, accessing DOM elements, and storing previous values.",
                    code: `<span class="code-comment">// useRef examples</span>
<span class="code-keyword">const</span> inputRef = useRef(null); <span class="code-comment">// DOM reference</span>
<span class="code-keyword">const</span> counterRef = useRef(0); <span class="code-comment">// Mutable value</span>`
                },
                {
                    level: 30,
                    module: 'advanced',
                    question: "What is React Suspense?",
                    options: [
                        "A component for handling async operations",
                        "A state management solution",
                        "A routing library",
                        "A form handling utility"
                    ],
                    answer: 0,
                    explanation: "Suspense lets components wait for something before rendering, such as data fetching.",
                    code: `<span class="code-comment">// React Suspense example</span>
&lt;Suspense fallback={&lt;Spinner /&gt;}&gt;
  &lt;OtherComponent /&gt;
&lt;/Suspense&gt;`
                }
            ];  
                
            // Module information - Updated for React
            const modules = {
                basics: {
                    title: "React Basics",
                    description: "Learn the fundamental building blocks of React including JSX, components, and rendering.",
                    levels: 5
                },
                components: {
                    title: "Components & Props",
                    description: "Understand React components, props, and component composition patterns.",
                    levels: 5
                },
                state: {
                    title: "State & Lifecycle",
                    description: "Learn to manage component state and understand the component lifecycle.",
                    levels: 5
                },
                hooks: {
                    title: "Hooks",
                    description: "Master React hooks for state, effects, context, and more in functional components.",
                    levels: 5
                },
                advanced: {
                    title: "Advanced React",
                    description: "Explore advanced topics like context API, performance optimization, and routing.",
                    levels: 10
                }
            };
            
            // Initialize the game
            function initGame() {
                renderLevels();
                loadLevel(gameState.currentLevel);
                updateStats();
                updateModuleProgress();
                updateMainProgress();
                
                // Set up event listeners
                document.querySelectorAll('.module').forEach(module => {
                    module.addEventListener('click', () => switchModule(module.dataset.module));
                });
            }
            
            // Render level selection buttons
            function renderLevels() {
                levelContainer.innerHTML = '';
                
                for (let i = 1; i <= gameState.maxLevel; i++) {
                    const level = document.createElement('div');
                    level.className = 'level';
                    level.textContent = i;
                    level.dataset.level = i;
                    
                    if (i === gameState.currentLevel) {
                        level.classList.add('current');
                    } else if (gameState.completedLevels.has(i)) {
                        level.classList.add('completed');
                    } else if (i > gameState.currentLevel) {
                        level.classList.add('locked');
                    } else {
                        level.classList.add('unlocked');
                    }
                    
                    if (i <= gameState.currentLevel) {
                        level.addEventListener('click', () => {
                            if (i !== gameState.currentLevel) {
                                gameState.currentLevel = i;
                                loadLevel(i);
                                renderLevels();
                            }
                        });
                    }
                    
                    levelContainer.appendChild(level);
                }
            }
            
            // Load a specific level
            function loadLevel(levelNum) {
                const levelQuestion = questions.find(q => q.level === levelNum);
                if (!levelQuestion) return;
                
                // Update module info if needed
                if (levelQuestion.module !== gameState.currentModule) {
                    gameState.currentModule = levelQuestion.module;
                    updateModuleInfo();
                }
                
                // Render the question
                renderQuestion(levelQuestion);
            }
            
            // Render a question
            function renderQuestion(question) {
                quizContainer.innerHTML = `
                    <div class="challenge-container">
                        <h3 class="challenge-title">
                            <i class="fas fa-code"></i>
                            Level ${question.level}: ${question.question}
                        </h3>
                        ${question.code ? `<div class="code-editor">
                            <div class="code-header">
                                <span>Code Example</span>
                                <button class="run-btn" id="runCodeBtn">Run Code</button>
                            </div>
                            <div class="code-content">${question.code}</div>
                        </div>` : ''}
                        <p class="challenge-description">Select the correct answer:</p>
                        <div class="options" id="optionsContainer"></div>
                        <div class="feedback" id="feedback"></div>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="hintBtn">
                                <i class="fas fa-lightbulb"></i> Hint
                            </button>
                            <button class="btn btn-primary" id="submitBtn">
                                <i class="fas fa-check"></i> Next level
                            </button>
                        </div>
                    </div>
                `;
                
                // Render options
                const optionsContainer = document.getElementById('optionsContainer');
                question.options.forEach((option, index) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    optionElement.textContent = option;
                    optionElement.dataset.option = index;
                    optionsContainer.appendChild(optionElement);
                });
                
                // Set up event listeners
                document.querySelectorAll('.option').forEach(option => {
                    option.addEventListener('click', function() {
                        document.querySelectorAll('.option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        this.classList.add('selected');
                    });
                });
                
                document.getElementById('runCodeBtn')?.addEventListener('click', () => runCode(question));
                document.getElementById('submitBtn').addEventListener('click', () => checkAnswer(question));
                document.getElementById('hintBtn').addEventListener('click', () => showHint(question));
            }
            
            // Run code example
            function runCode(question) {
                consoleOutput.style.display = 'block';
                outputContent.textContent = '';
                runStatus.textContent = 'Running...';
                
                // Simulate code execution with a delay
                setTimeout(() => {
                    let output = '';
                    
                    // Special handling for different question levels
                    switch(question.level) {
                        case 1:
                            output = 'Creating a new React app in my-app directory...\nSuccess! Created my-app';
                            break;
                        case 2:
                            output = 'Rendered: <h1>Hello, world!</h1>';
                            break;
                        case 3:
                            output = 'App component rendered to root element';
                            break;
                        case 16:
                            output = 'Effect ran after initial render';
                            break;
                        case 21:
                            output = 'Router initialized\n- Home route: /\n- About route: /about';
                            break;
                        default:
                            output = 'Code executed successfully';
                    }
                    
                    outputContent.textContent = output;
                    runStatus.textContent = 'Completed';
                    
                    // Add XP for running code
                    addXP(10);
                }, 1000);
            }
            
            // Check the selected answer
            function checkAnswer(question) {
                const selectedOption = document.querySelector('.option.selected');
                if (!selectedOption) {
                    alert('Please select an answer first!');
                    return;
                }
                
                const selectedAnswer = parseInt(selectedOption.dataset.option);
                const feedback = document.getElementById('feedback');
                
                if (selectedAnswer === question.answer) {
                    // Correct answer
                    selectedOption.classList.add('correct');
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = `
                        <div class="feedback-title">
                            <i class="fas fa-check-circle"></i>
                            Correct!
                        </div>
                        <div class="feedback-content">${question.explanation}</div>
                    `;
                    feedback.style.display = 'block';
                    
                    // Update game state
                    if (!gameState.completedLevels.has(question.level)) {
                        gameState.completedLevels.add(question.level);
                        if (question.level === gameState.currentLevel && gameState.currentLevel < gameState.maxLevel) {
                            gameState.currentLevel++;
                        }
                        
                        // Add score and XP
                        gameState.score += question.level * 10;
                        addXP(question.level * 5);
                    }
                    
                    // Update UI
                    updateStats();
                    updateModuleProgress();
                    updateMainProgress();
                    renderLevels();
                    
                    // Check for victory
                    if (gameState.completedLevels.size === gameState.maxLevel) {
                        showVictoryScreen();
                    } else if (selectedAnswer === question.answer) {
                        // Load next level after a delay if correct
                        setTimeout(() => {
                            if (gameState.currentLevel <= gameState.maxLevel) {
                                loadLevel(gameState.currentLevel);
                            }
                        }, 1500);
                    }
                } else {
                    // Incorrect answer
                    selectedOption.classList.add('incorrect');
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = `
                        <div class="feedback-title">
                            <i class="fas fa-times-circle"></i>
                            Incorrect
                        </div>
                        <div class="feedback-content">${question.explanation}</div>
                    `;
                    feedback.style.display = 'block';
                }
            }
            
            // Show hint for the current question
            function showHint(question) {
                const feedback = document.getElementById('feedback');
                feedback.className = 'feedback correct';
                feedback.innerHTML = `
                    <div class="feedback-title">
                        <i class="fas fa-lightbulb"></i>
                        Hint
                    </div>
                    <div class="feedback-content">${question.explanation}</div>
                `;
                feedback.style.display = 'block';
                
                // Deduct some points for using a hint
                gameState.score = Math.max(0, gameState.score - 5);
                updateStats();
            }
            
            // Switch between modules
            function switchModule(moduleName) {
                gameState.currentModule = moduleName;
                
                // Update active module in sidebar
                document.querySelectorAll('.module').forEach(mod => {
                    mod.classList.remove('active');
                });
                document.querySelector(`.module[data-module="${moduleName}"]`).classList.add('active');
                
                // Update module info
                updateModuleInfo();
                
                // Find the first level in this module that's either current or not completed
                const moduleQuestions = questions.filter(q => q.module === moduleName);
                const firstUncompleted = moduleQuestions.find(q => !gameState.completedLevels.has(q.level));
                
                if (firstUncompleted) {
                    gameState.currentLevel = firstUncompleted.level;
                } else {
                    // All levels in this module completed, show the last one
                    gameState.currentLevel = moduleQuestions[moduleQuestions.length - 1].level;
                }
                
                // Update UI
                updateStats();
                renderLevels();
                loadLevel(gameState.currentLevel);
            }
            
            // Update module title and description
            function updateModuleInfo() {
                const module = modules[gameState.currentModule];
                moduleTitle.textContent = module.title;
                moduleDescription.textContent = module.description;
            }
            
            // Update progress for the current module
            function updateModuleProgress() {
                const moduleQuestions = questions.filter(q => q.module === gameState.currentModule);
                const completedInModule = moduleQuestions.filter(q => gameState.completedLevels.has(q.level)).length;
                const progress = (completedInModule / moduleQuestions.length) * 100;
                
                document.getElementById(`${gameState.currentModule}-progress`).style.width = `${progress}%`;
            }
            
            // Update overall course progress
            function updateMainProgress() {
                const progress = (gameState.completedLevels.size / gameState.maxLevel) * 100;
                mainProgress.style.width = `${progress}%`;
                progressPercentage.textContent = `${Math.round(progress)}% Complete`;
            }
            
            // Update stats display
            function updateStats() {
                currentLevelElement.textContent = gameState.currentLevel;
                xpValueElement.textContent = gameState.xp;
                scoreValueElement.textContent = gameState.score;
            }
            
            // Add XP with animation
            function addXP(amount) {
                gameState.xp += amount;
                updateStats();
                
                // Create XP animation
                const xpAnim = document.createElement('div');
                xpAnim.className = 'xp-animation';
                xpAnim.textContent = `+${amount} XP`;
                xpAnim.style.left = `${Math.random() * 80 + 10}%`;
                xpAnim.style.top = `${Math.random() * 50 + 25}%`;
                document.body.appendChild(xpAnim);
                
                // Remove after animation
                setTimeout(() => {
                    xpAnim.remove();
                }, 1500);
            }
            
            // Show victory screen
            function showVictoryScreen() {
                finalScore.textContent = gameState.score;
                victoryScreen.style.display = 'flex';
            }
            
            // Reset the game
            function resetGame() {
                gameState.currentLevel = 1;
                gameState.score = 0;
                gameState.xp = 0;
                gameState.currentModule = 'basics';
                gameState.completedLevels = new Set();
                
                victoryScreen.style.display = 'none';
                initGame();
            }
            
            // Set up the restart button event listener
            restartGameBtn.addEventListener('click', resetGame);
            
            // Start the game
            initGame();
        });
    </script>
</body>
</html>